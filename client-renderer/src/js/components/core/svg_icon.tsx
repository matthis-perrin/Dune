import {omit} from 'lodash-es';
import * as React from 'react';
import styled from 'styled-components';

import {ReactProps, uiComponentMixin, UIComponentProps} from '@root/components/core/common';

const DEFAULT_ICON_WIDTH = 24;
const DEFAULT_ICON_HEIGHT = 24;

const ICONS = {
  gear: {
    viewBox: '0 0 25 25',
    element: (
      <g>
        <path
          d="M24.38,10.175l-2.231-0.268c-0.228-0.851-0.562-1.655-0.992-2.401l1.387-1.763c0.212-0.271,0.188-0.69-0.057-0.934
		l-2.299-2.3c-0.242-0.243-0.662-0.269-0.934-0.057l-1.766,1.389c-0.743-0.43-1.547-0.764-2.396-0.99L14.825,0.62
		C14.784,0.279,14.469,0,14.125,0h-3.252c-0.344,0-0.659,0.279-0.699,0.62L9.906,2.851c-0.85,0.227-1.655,0.562-2.398,0.991
		L5.743,2.455c-0.27-0.212-0.69-0.187-0.933,0.056L2.51,4.812C2.268,5.054,2.243,5.474,2.456,5.746L3.842,7.51
		c-0.43,0.744-0.764,1.549-0.991,2.4l-2.23,0.267C0.28,10.217,0,10.532,0,10.877v3.252c0,0.344,0.279,0.657,0.621,0.699l2.231,0.268
		c0.228,0.848,0.561,1.652,0.991,2.396l-1.386,1.766c-0.211,0.271-0.187,0.69,0.057,0.934l2.296,2.301
		c0.243,0.242,0.663,0.269,0.933,0.057l1.766-1.39c0.744,0.43,1.548,0.765,2.398,0.991l0.268,2.23
		c0.041,0.342,0.355,0.62,0.699,0.62h3.252c0.345,0,0.659-0.278,0.699-0.62l0.268-2.23c0.851-0.228,1.655-0.562,2.398-0.991
		l1.766,1.387c0.271,0.212,0.69,0.187,0.933-0.056l2.299-2.301c0.244-0.242,0.269-0.662,0.056-0.935l-1.388-1.764
		c0.431-0.744,0.764-1.548,0.992-2.397l2.23-0.268C24.721,14.785,25,14.473,25,14.127v-3.252
		C25,10.529,24.723,10.216,24.38,10.175z M12.501,18.75c-3.452,0-6.25-2.798-6.25-6.25s2.798-6.25,6.25-6.25
		s6.25,2.798,6.25,6.25S15.954,18.75,12.501,18.75z"
        />
      </g>
    ),
  },
  calendar: {
    viewBox: '0 0 29.1 29.1',
    element: (
      <g>
        <path d="M21.7 6.1c1.1 0 2-0.9 2-2V2c0-1.1-0.9-2-2-2s-2 0.9-2 2v2.1C19.7 5.2 20.6 6.1 21.7 6.1z" />
        <path d="M28.9 3.5h-4.1v1c0 1.7-1.4 3.1-3.1 3.1 -1.7 0-3.1-1.4-3.1-3.1V3.5h-8.2v1c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1V3.5L0.2 3.4v25.7H2.3h24.6l2 0L28.9 3.5zM26.9 27.1H2.3V10.7h24.6v16.4H26.9z" />
        <path d="M7.4 6.1c1.1 0 2-0.9 2-2V2C9.4 0.9 8.5 0 7.4 0S5.3 0.9 5.3 2v2.1C5.3 5.2 6.2 6.1 7.4 6.1z" />
        <rect x="10.5" y="12.9" width="3.2" height="2.9" />
        <rect x="15.7" y="12.9" width="3.2" height="2.9" />
        <rect x="20.5" y="12.9" width="3.2" height="2.9" />
        <rect x="10.5" y="17.6" width="3.2" height="2.9" />
        <rect x="15.7" y="17.6" width="3.2" height="2.9" />
        <rect x="20.5" y="17.6" width="3.2" height="2.9" />
        <rect x="10.5" y="22.4" width="3.2" height="2.9" />
        <rect x="5.3" y="17.6" width="3.2" height="2.9" />
        <rect x="5.3" y="22.4" width="3.2" height="2.9" />
        <rect x="15.7" y="22.4" width="3.2" height="2.9" />
        <rect x="20.5" y="22.4" width="3.2" height="2.9" />
      </g>
    ),
  },
  'caret-down': {
    viewBox: '0 0 292.4 292.4',
    element: (
      <g>
        <path d="M286.9 69.4c-3.6-3.6-7.9-5.4-12.8-5.4H18.3c-5 0-9.2 1.8-12.8 5.4C1.8 73 0 77.3 0 82.2c0 4.9 1.8 9.2 5.4 12.8l127.9 127.9c3.6 3.6 7.9 5.4 12.9 5.4s9.2-1.8 12.8-5.4L286.9 95.1c3.6-3.6 5.4-7.9 5.4-12.8C292.4 77.3 290.5 73 286.9 69.4z" />
      </g>
    ),
  },
  'caret-up': {
    viewBox: '0 0 292.4 292.4',
    element: (
      <g>
        <path d="M286.9 197.3L159 69.4c-3.6-3.6-7.9-5.4-12.8-5.4s-9.2 1.8-12.8 5.4L5.4 197.3C1.8 200.9 0 205.2 0 210.1s1.8 9.2 5.4 12.8c3.6 3.6 7.9 5.4 12.9 5.4h255.8c4.9 0 9.2-1.8 12.8-5.4 3.6-3.6 5.4-7.9 5.4-12.8S290.5 200.9 286.9 197.3z" />
      </g>
    ),
  },
  cross: {
    viewBox: '0 0 21.9 21.9',
    element: (
      <path d="M14.1 11.3c-0.2-0.2-0.2-0.5 0-0.7l7.5-7.5c0.2-0.2 0.3-0.5 0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20 0.1 19.7 0 19.5 0c-0.3 0-0.5 0.1-0.7 0.3l-7.5 7.5c-0.2 0.2-0.5 0.2-0.7 0L3.1 0.3C2.9 0.1 2.6 0 2.4 0S1.9 0.1 1.7 0.3L0.3 1.7C0.1 1.9 0 2.2 0 2.4s0.1 0.5 0.3 0.7l7.5 7.5c0.2 0.2 0.2 0.5 0 0.7l-7.5 7.5C0.1 19 0 19.3 0 19.5s0.1 0.5 0.3 0.7l1.4 1.4c0.2 0.2 0.5 0.3 0.7 0.3s0.5-0.1 0.7-0.3l7.5-7.5c0.2-0.2 0.5-0.2 0.7 0l7.5 7.5c0.2 0.2 0.5 0.3 0.7 0.3s0.5-0.1 0.7-0.3l1.4-1.4c0.2-0.2 0.3-0.5 0.3-0.7s-0.1-0.5-0.3-0.7L14.1 11.3z" />
    ),
  },
};

export type SVGIconName = keyof typeof ICONS;

interface SVGIconProps extends UIComponentProps, ReactProps {
  name: SVGIconName;
  width?: number;
  height?: number;
}

export class SVGIcon extends React.Component<SVGIconProps> {
  public static displayName = 'SVGIcon';

  public render(): JSX.Element {
    const {name, width = DEFAULT_ICON_WIDTH, height = DEFAULT_ICON_HEIGHT} = this.props;
    const {viewBox, element} = ICONS[name];
    const extendedProps = omit(this.props, ['name', 'width', 'height', 'children']);
    return (
      <StyledSVG {...extendedProps} viewBox={viewBox} width={width} height={height}>
        {element}
      </StyledSVG>
    );
  }
}

const StyledSVG = styled.svg`
  ${uiComponentMixin};
`;
